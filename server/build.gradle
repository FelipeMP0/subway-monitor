plugins {
    id "java"
    id "org.springframework.boot" version "2.2.6.RELEASE"
    id 'com.bmuschko.docker-spring-boot-application' version '6.4.0'
}

bootJar {
    baseName = "subway_monitor"
    version = ""
}

dependencies {
    implementation project(':shared_model')
    implementation project(':datastore')

    compile group: 'org.postgresql', name: 'postgresql', version: '42.2.12'
    compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '2.2.6.RELEASE'

    compile group: 'org.springframework.boot', name: 'spring-boot-devtools', version: '2.2.6.RELEASE'
}

docker {
    springBootApplication {
        baseImage = 'openjdk:8-alpine'
        ports = [8080, 8080]
        images = ['subway_monitor:latest']
    }
}

dockerSyncBuildContext {
    exclude '**/spring-boot-devtools-*.jar'
}
